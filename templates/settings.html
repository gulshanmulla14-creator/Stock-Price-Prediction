<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Settings</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

<style>
body {
    background-color: #f5f5f5;
    font-family: Arial;
}
.settings-card {
    max-width: 500px;
    margin: 40px auto;
    padding: 25px;
    background: #fff;
    border-radius: 15px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.2);
}
.profile-pic {
    width: 90px;
    height: 90px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid #e53f8f;
}
.btn-primary { background-color: #e53f8f; border: none; }
.btn-primary:hover { background-color: #c32b74; }
@media(max-width: 576px){
    .settings-card { margin: 20px 15px; padding: 20px; }
}
</style>
</head>
<body>

<nav class="navbar bg-white shadow-sm px-3">
    <span class="navbar-brand fw-bold"><i class="bi bi-gear"></i> Settings</span>
</nav>

<div class="settings-card text-center">

    <!-- Profile Picture -->
    <img src="{{ url_for('static', filename='uploads/' + profile_pic) }}" class="profile-pic mb-2">
    <h4 class="mb-0">{{ username }}</h4>
    <p class="text-muted">{{ email }}</p>

    <hr>

    <!-- Upload Profile Picture -->
    <form method="POST" action="{{ url_for('settings') }}" enctype="multipart/form-data" class="mb-3">
        <h5 class="text-start"><i class="bi bi-camera"></i> Update Profile Picture</h5>
        <input type="file" name="profile_pic" accept="image/*" class="form-control mb-2">
        <button type="submit" class="btn btn-primary w-100">Upload</button>
    </form>

    <hr>

    <!-- Change Password -->
    <form method="POST" action="{{ url_for('reset_password') }}">
        <h5 class="text-start"><i class="bi bi-key"></i> Change Password</h5>
        <input type="password" name="new_password" class="form-control mb-2" placeholder="New Password" required>
        <input type="password" name="confirm_password" class="form-control mb-3" placeholder="Confirm Password" required>
        <button type="submit" class="btn btn-primary w-100 mb-3">Update Password</button>
    

    <a href="/home" class="btn btn-outline-secondary w-100 mb-2">
        <i class="bi bi-arrow-left"></i> Back to Dashboard
    </a>

    <a href="/logout" class="btn btn-danger w-100">
        <i class="bi bi-box-arrow-right"></i> Logout
    </a>
</form>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
